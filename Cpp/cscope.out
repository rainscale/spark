cscope 15 $HOME/Works/spark/Cpp -q 0000000346 0000029481
	@People.cpp

1 
	~"PeİË.h
"

2 
	~<io¡»am
>

3 
usšg
 
Çme¥aû
 
	g¡d
;

5 
	gPeİË
::
	$PeİË
(*
Çme
, 
age
): 
	`m_Çme
Òame), 
	$m_age
(
age
){
	}
}

7 
	gPeİË
::
	$di¥Ïy
() {

8 
cout
 << 
m_Çme
 << "ä»Šå¹´" << 
m_age
 << "å²äº†ï¼Œæ˜¯ä¸ªæ— ä¸šæ¸¸æ°‘ã€‚" <<
’dl
;

9 
	}
}

	@People.h

1 #´agm¨
Úû


3 şas 
	cPeİË
 {

4 
	mpublic
:

5 
PeİË
(*
Çme
, 
age
);

6 
vœtu®
 
di¥Ïy
();

7 
	m´Ùeùed
:

8 *
m_Çme
;

9 
	mm_age
;

	@Teacher.cpp

1 
	~"T—ch”.h
"

2 
	~<io¡»am
>

3 
usšg
 
Çme¥aû
 
	g¡d
;

5 
	gT—ch”
::
	$T—ch”
(*
Çme
, 
age
, 
§Ïry
): 
	`PeİË
Òame,‡ge), 
	$m_§Ïry
(
§Ïry
è{
	}
}

7 
	gT—ch”
::
	$di¥Ïy
() {

8 
cout
 << 
m_Çme
 << "ä»Šå¹´" << 
m_age
 << "å²äº†ï¼Œæ˜¯ä¸€åæ•™å¸ˆï¼Œæ¯æœˆæœ‰" << 
m_§Ïry
 << "å…ƒçš„æ”¶å…¥ã€‚" <<
’dl
;

9 
	}
}

	@Teacher.h

1 #´agm¨
Úû


2 
	~"PeİË.h
"

5 şas 
	cT—ch”
 : 
public
 
PeİË
{

6 
public
:

7 
T—ch”
(*
Çme
, 
age
, 
§Ïry
);

8 
vœtu®
 
di¥Ïy
();

9 
	m´iv©e
:

10 
m_§Ïry
;

	@abstract_class.cpp

1 
	~<io¡»am
>

2 
usšg
 
Çme¥aû
 
	g¡d
;

6 şas 
	cLše
{

7 
	mpublic
:

8 
Lše
(
Ën
);

9 
vœtu®
 
¬—
() = 0;

10 
vœtu®
 
vŞume
() = 0;

11 
	m´Ùeùed
:

12 
m_Ën
;

14 
	gLše
::
	$Lše
(
Ën
): 
	$m_Ën
(
Ën
è{
	}
}

17 şas 
	cRec
 : 
public
 
Lše
{

18 
public
:

19 
Rec
(
Ën
, 
width
);

20 
¬—
();

21 
	m´Ùeùed
:

22 
m_width
;

24 
	gRec
::
	$Rec
(
Ën
, 
width
): 
	`Lše
Ö’), 
	$m_width
(
width
è{
	}
}

25 
	gRec
::
	$¬—
() {

26  
m_Ën
 * 
m_width
;

27 
	}
}

30 şas 
	cCuboid
 : 
public
 
Rec
{

31 
public
:

32 
Cuboid
(
Ën
, 
width
, 
height
);

33 
¬—
();

34 
vŞume
();

35 
	m´Ùeùed
:

36 
m_height
;

38 
	gCuboid
::
	$Cuboid
(
Ën
, 
width
, 
height
): 
	`Rec
Ö’, width), 
	$m_height
(
height
è{
	}
}

39 
	gCuboid
::
	$¬—
() {  2 * (

40 
m_Ën
*
m_width
 + m_Ën*
m_height
 + m_width*m_height);

41 
	}
}

42 
	gCuboid
::
	$vŞume
() {

43  
m_Ën
 * 
m_width
 * 
m_height
;

44 
	}
}

47 şas 
	cCube
: 
public
 
Cuboid
 {

48 
public
:

49 
Cube
(
Ën
);

50 
¬—
();

51 
vŞume
();

53 
	gCube
::
	$Cube
(
Ën
è: 
	$Cuboid
(
Ën
,†’,†’è{
	}
}

54 
	gCube
::
	$¬—
() {

55  6 * 
m_Ën
 * m_len;

56 
	}
}

57 
	gCube
::
	$vŞume
() {

58  
m_Ën
 * m_len * m_len;

59 
	}
}

61 
	$maš
() {

62 
Lše
 *
p
 = 
Ãw
 
	`Cuboid
(10, 20, 30);

63 
cout
 << "Th¬— oàCuboid i " << 
p
->
	`¬—
(è<<
’dl
;

64 
cout
 << "ThvŞumoàCuboid i " << 
p
->
	`vŞume
(è<<
’dl
;

66 
p
 = 
Ãw
 
	`Cube
(15);

67 
cout
 << "Th¬— oàCubi " << 
p
->
	`¬—
(è<<
’dl
;

68 
cout
 << "ThvŞumoàCubi " << 
p
->
	`vŞume
(è<<
’dl
;

71 
	}
}

	@atexit.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<uni¡d.h
>

4 
	~<¡ršg.h
>

6 
	$func_1
() {

7 
	`´štf
("my i %s\n",
__FUNCTION__
);

8 
	}
}

10 
	$func_2
() {

11 
	`´štf
("my i %s\n",
__FUNCTION__
);

12 
	}
}

14 
	$func_3
() {

15 
	`´štf
("my i %s\n",
__FUNCTION__
);

16 
	}
}

18 
	$maš
(
¬gc
,**
¬gv
) {

20 
	`©ex™
(
func_1
);

21 
	`©ex™
(
func_2
);

22 
	`©ex™
(
func_3
);

23 
	`©ex™
(
func_3
);

24 
	`©ex™
(
func_1
);

26 
	`´štf
("main funcƒnd\n");

28  
EXIT_SUCCESS
;

29 
	}
}

	@const_cast.cpp

33 
	~<io¡»am
>

35 
usšg
 
Çme¥aû
 
	g¡d
;

37 
	$maš
()

39 cÚ¡ 
n
 = 100;

40 *
p
 = 
cÚ¡_ÿ¡
<*>(&
n
);

41 *
p
 = 123;

42 
cout
 << "&n=" << &
n
 << ",‚=" <<‚ << 
’dl
;

43 
cout
 << "p=" << 
p
 << ", *p=" << *°<< 
’dl
;

44 & 
»f
 = 
cÚ¡_ÿ¡
<&>(
n
);

45 
»f
 = 456;

46 
cout
 << "&n=" << &
n
 << ",‚=" <<‚ << 
’dl
;

47 
cout
 << "p=" << 
p
 << ", *p=" << *°<< 
’dl
;

48 
cout
 << "&»f=" << &
»f
 << ",„ef=" <<„eà<<
’dl
;

50 
	}
}

	@cpu.cpp

1 
	~<”ºo.h
>

2 
	~<execšfo.h
>

3 
	~<sched.h
>

4 
	~<sigÇl.h
>

5 
	~<¡dio.h
>

6 
	~<¡dlib.h
>

7 
	~<¡ršg.h
>

8 
	~<sys/wa™.h
>

10 * 
	$g‘_cu¼’t_sk_Çme
() {

11 
sk_Çme
[1024] = {0};

12 * 
p¡r
 = 
nuÎ±r
;

13 
	`»adlšk
("/´oc/£lf/exe", 
sk_Çme
, 1024);

14 
p¡r
 = 
sk_Çme
;

15  
p¡r
;

16 
	}
}

18 * 
	$addr2lše
(cÚ¡ * 
±r
, cÚ¡ * 
–f_Çme
) {

19 *
p¡r
 = 
nuÎ±r
;

20 
pid_t
 
pid
 = 0;

21 
addr2lše_cmd
[1024] = {0};

22 
	`¥rštf
(
addr2lše_cmd
, "addr2lš% -% -à-p", 
±r
, 
–f_Çme
);

23 
pid
 = 
	`fÜk
();

24 ià(
pid
 == 0) {

25 
	`sy¡em
(
addr2lše_cmd
);

26 
	`ex™
(0);

28 
	`wa™
(
nuÎ±r
);

30  
p¡r
;

31 
	}
}

33 
	#MAX_STACK_FRAMES
 128

	)

34 
	$hªdË_sigÇl
(
signum
) {

35 cÚ¡ * 
Çme
;

36 * 
äames
[
MAX_STACK_FRAMES
];

37 ** 
symbŞs
;

38 
num_äames
;

39 * 
±r
 = 
nuÎ±r
;

40 * 
±r_’d
 = 
nuÎ±r
;

41 * 
p¡r
 = 
nuÎ±r
;

42 
signum
) {

43 
SIGSEGV
: 
Çme
 = "SIGSEGV"; ;

44 
SIGABRT
: 
Çme
 = "SIGABRT"; ;

45 
SIGFPE
: 
Çme
 = "SIGFPE"; ;

46 
SIGILL
: 
Çme
 = "SIGILL"; ;

47 
SIGINT
: 
Çme
 = "SIGINT"; ;

48 
SIGTSTP
: 
Çme
 = "SIGTSTP"; ;

49 
SIGTERM
: 
Çme
 = "SIGTERM"; ;

50 : 
Çme
 = "UNKNOWN";

52 
	`´štf
("Caughˆ% sigÇl,…rštšg sck:\n", 
Çme
);

55 
num_äames
 = 
	`backŒaû
(
äames
, 
MAX_STACK_FRAMES
);

56 ià(
num_äames
 == 0) {

57 
	`´štf
("\n");

61 
symbŞs
 = (**)
	`backŒaû_symbŞs
(
äames
, 
num_äames
);

66 
i
 = 0; i < 
num_äames
; i++) {

67 
±r
 = 
	`¡r¡r
(
symbŞs
[
i
], "[");

68 ià(
±r
 !ğ
nuÎ±r
) {

69 
±r
++;

70 
±r_’d
 = 
	`¡r¡r
(
±r
, "]");

71 ià(
±r_’d
 !ğ
nuÎ±r
) {

72 *
±r_’d
 = '\0';

74 
p¡r
 = 
	`addr2lše
(
±r
, 
	`g‘_cu¼’t_sk_Çme
());

77 
	`ä“
(
symbŞs
);

79 
	`sigÇl
(
signum
, 
SIG_DFL
);

80 
	`¿i£
(
signum
);

81 
	}
}

83 
	$sigÇl_hªdËr
() {

84 
	`sigÇl
(
SIGSEGV
, 
hªdË_sigÇl
);

85 
	`sigÇl
(
SIGABRT
, 
hªdË_sigÇl
);

86 
	`sigÇl
(
SIGFPE
, 
hªdË_sigÇl
);

87 
	`sigÇl
(
SIGILL
, 
hªdË_sigÇl
);

88 
	`sigÇl
(
SIGINT
, 
hªdË_sigÇl
);

89 
	`sigÇl
(
SIGTSTP
, 
hªdË_sigÇl
);

90 
	`sigÇl
(
SIGTERM
, 
hªdË_sigÇl
);

91 
	}
}

93 
boŞ
 
	$LockToCPU
(
ıu_to_lock
) {

94 
ıu_£t_t
 
ıu£t
;

95 
	`CPU_ZERO
(&
ıu£t
);

96 
	`CPU_SET
(
ıu_to_lock
, &
ıu£t
);

97 ià(
	`sched_£ffš™y
(0, (
ıu£t
), &cpuset) != 0) {

98 ià(
”ºo
 =ğ
EINVAL
) {

99 
	`´štf
("Inv®id cpu %d\n", 
ıu_to_lock
);

101 
	`³¼Ü
("sched_setaffinity failed\n");

103  
çl£
;

105  
Œue
;

106 
	}
}

108 
	$maš
(
¬gc
, ** 
¬gv
) {

109 
i
 = 0;

110 
	`´štf
("pid %d\n", 
	`g‘pid
());

111 
	`sigÇl_hªdËr
();

112 
Œue
) {

113 
	`¦“p
(1);

114 
i
++;

115 
	`´štf
("¦“°%ld s\n", 
i
);

118 
	}
}

	@cpustat.cpp

1 
	~<¡dšt.h
>

2 
	~<¡dio.h
>

3 
	~<¡dlib.h
>

4 
	~<uni¡d.h
>

6 
	sıu_cÜe_¡©


9 
ušt64_t
 
	mu£r
, 
	mniû
, 
	msy¡em
, 
	midË
, 
	miowa™
, 
	mœq
, 
	msoáœq
, 
	m¡—l
, 
	mgue¡
, 
	mgue¡_niû
;

12 
	sıu_cÜe_¡©_·œ


14 
ıu_cÜe_¡©
 
	m¡©
[2];

15 
	moccupy
;

18 
	sıu_cÜes_occupy


20 
	mÄ_ıu_cÜe
;

21 
ıu_cÜe_¡©_·œ
 *
	mıus_¡©
;

24 
	$ıu_cÜes_occupy_š™
(
ıu_cÜes_occupy
 *
cco
)

26 ià(!
cco
)

28 
cco
->
Ä_ıu_cÜe
 = 
	`syscÚf
(
_SC_NPROCESSORS_ONLN
);

29 
cco
->
ıus_¡©
 = (
ıu_cÜe_¡©_·œ
 *)
	`m®loc
((ıu_cÜe_¡©_·œè* (cco->
Ä_ıu_cÜe
 + 1));

31 
	}
}

33 
	$ıu_cÜes_occupy_g‘
(
ıu_cÜes_occupy
 *
cco
, 
¡©_idx
 )

35 
FILE
 *
å
;

36 
ıu_cÜe_¡©_·œ
 *
ıus_¡©
 = 
cco
->cpus_stat;

38 
å
 = 
	`fİ’
("/proc/stat", "r");

40 
i
 = 0; i <ğ
cco
->
Ä_ıu_cÜe
; i++)

42 
	`fsÿnf
(
å
, "%*s %ld %ld %ld %ld %ld %ld %ld %ld %ld %ld",

43 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
u£r
,

44 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
niû
,

45 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
sy¡em
,

46 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
idË
,

47 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
iowa™
,

48 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
œq
,

49 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
soáœq
,

50 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
¡—l
,

51 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
gue¡
,

52 &
ıus_¡©
[
i
].
¡©
[
¡©_idx
].
gue¡_niû
);

54 
	`fşo£
(
å
);

55 
	}
}

57 
	$ıu_cÜes_occupy_ÿÎ
(
ıu_cÜes_occupy
 *
cco
)

59 
ıu_cÜe_¡©_·œ
 *
ıus_¡©
 = 
cco
->cpus_stat;

60 
i
 = 0; i <ğ
cco
->
Ä_ıu_cÜe
; i++)

62 
ıu_cÜe_¡©
 *
s0
 = &
ıus_¡©
[
i
].
¡©
[0];

63 
ıu_cÜe_¡©
 *
s1
 = &
ıus_¡©
[
i
].
¡©
[1];

64 
s0_0
 = (
s0
->
u£r
 + s0->
niû
 + s0->
sy¡em
);

65 
s1_0
 = (
s1
->
u£r
 + s1->
niû
 + s1->
sy¡em
);

66 
s0_1
 = (
s0
->
u£r
 + s0->
niû
 + s0->
sy¡em
 + s0->
idË
);

67 
s1_1
 = (
s1
->
u£r
 + s1->
niû
 + s1->
sy¡em
 + s1->
idË
);

68 
ıus_¡©
[
i
].
occupy
 = 100 * (
s1_0
 - 
s0_0
è/ (
s1_1
 - 
s0_1
);

70 
	}
}

72 
	$ıu_cÜes_occupy_di¥Ïy
(
ıu_cÜes_occupy
 *
cco
)

74 
ıu_cÜe_¡©_·œ
 *
ıus_¡©
 = 
cco
->cpus_stat;

75 
	`sy¡em
("clear");

76 
i
 = 0; i <ğ
cco
->
Ä_ıu_cÜe
; i++)

78 ià(
i
 == 0)

80 
	`´štf
("ıu \t%Là%%\n", 
ıus_¡©
[
i
].
occupy
);

84 
	`´štf
("ıu%d \t%Là%%\n", 
i
 - 1, 
ıus_¡©
[i].
occupy
);

87 
	}
}

89 
	$maš
()

91 
ıu_cÜes_occupy
 
cco
;

92 
	`ıu_cÜes_occupy_š™
(&
cco
);

96 
	`ıu_cÜes_occupy_g‘
(&
cco
, 0);

97 
	`¦“p
(1);

98 
	`ıu_cÜes_occupy_g‘
(&
cco
, 1);

99 
	`ıu_cÜes_occupy_ÿÎ
(&
cco
);

100 
	`ıu_cÜes_occupy_di¥Ïy
(&
cco
);

102 
	}
}

	@crypto.cpp

1 
	~<g‘İt.h
>

2 
	~<¡dio.h
>

3 
	~<¡dlib.h
>

4 
	~<¡ršg.h
>

5 
	~<time.h
>

7 
	#MAX_STR_SIZE
 256

	)

8 cÚ¡ * 
	g´og¿m_Çme
;

10 
	$u§ge
(
¡©us
)

12 ià(
¡©us
 !ğ
EXIT_SUCCESS
) {

13 
	`årštf
(
¡d”r
, "Try '% --h–p' fÜ mÜšfÜm©iÚ.\n", 
´og¿m_Çme
);

15 
	`´štf
("U§ge: % [-d|--deüy±] [-i|--špuˆšfe] [-o|--ouuˆoutfe] [-h|--h–p]\n", 
´og¿m_Çme
);

17 
	`ex™
(
¡©us
);

18 
	}
}

20 
	$maš
(
¬gc
, ** 
¬gv
)

22 * 
šfe
;

23 * 
outfe
;

24 
f•©h
[256];

25 
FILE
* 
š
;

26 
FILE
* 
out
;

27 
·ddšg
 = 0;

28 
i
;

29 
ch
 = 0;

30 
boŞ
 
is_deüy±
 = 
çl£
;

31 
İt
;

32 cÚ¡ * cÚ¡ 
shÜt_İtiÚs
 = ":hdp:i:o::";

33 cÚ¡ 
İtiÚ
 
lÚg_İtiÚs
[] = {

34 {"h–p", 
no_¬gum’t
, 
NULL
, 'h'},

35 {"deüy±", 
no_¬gum’t
, 
NULL
, 'd'},

36 {"·ddšg", 
»quœed_¬gum’t
, 
NULL
, 'p'},

37 {"šput", 
»quœed_¬gum’t
, 
NULL
, 'i'},

38 {"ouut", 
»quœed_¬gum’t
, 
NULL
, 'o'},

41 
´og¿m_Çme
 = 
¬gv
[0];

42 (
İt
 = 
	`g‘İt_lÚg
(
¬gc
, 
¬gv
, 
shÜt_İtiÚs
, 
lÚg_İtiÚs
, 
NULL
)) != -1) {

43 
İt
) {

45 
	`´štf
("UnknowÀİtiÚ %c\n", 
İtİt
);

48 
	`´štf
("-%øÃed v®ue\n", 
İtİt
);

51 
	`u§ge
(
EXIT_SUCCESS
);

54 
is_deüy±
 = 
Œue
;

57 
·ddšg
 = 
	`©oi
(
İrg
);

58 
	`´štf
("·ddšg: %d\n", 
·ddšg
);

61 
šfe
 = 
İrg
;

62 
	`´štf
("šput: %s\n", 
šfe
);

65 
outfe
 = 
İrg
;

68 
	`u§ge
(
EXIT_FAILURE
);

72 ià(!
šfe
) {

73 
	`´štf
("miss input…arameter.\n");

74  
EXIT_FAILURE
;

76 ià((
š
 = 
	`fİ’
(
šfe
, "rb")è=ğ
NULL
) {

77 
	`´štf
("ÿn'ˆİ’ %s\n", 
šfe
);

78  
EXIT_FAILURE
;

80 ià(!
outfe
) {

81 
	`¡rıy
(
f•©h
, 
šfe
);

82 ià(
is_deüy±
) {

83 
	`¡rÿt
(
f•©h
, ".dec");

85 
	`¡rÿt
(
f•©h
, ".enc");

87 
outfe
 = 
f•©h
;

89 
	`´štf
("ouut: %s\n", 
outfe
);

90 ià((
out
 = 
	`fİ’
(
outfe
, "wb")è=ğ
NULL
) {

91 
	`´štf
("ÿn'ˆü—‹ %s\n", 
outfe
);

92  
EXIT_FAILURE
;

95 ià(
is_deüy±
) {

96 
	`´štf
("decrypt......\n");

97 ià(
·ddšg
 == 0) {

98 
·ddšg
 = 
	`fg‘c
(
š
);

100 
	`f£ek
(
š
, 
·ddšg
, 
SEEK_CUR
);

102 
	`´štf
("encrypt......\n");

103 
	`åutc
(
·ddšg
, 
out
);

104 
	`¤ªd
(()
	`time
(
NULL
));

105 
i
++ < 
·ddšg
) {

106 
ch
 = 
	`¿nd
();

107 
	`åutc
(
ch
, 
out
);

110 (
ch
 = 
	`fg‘c
(
š
)è!ğ
EOF
) {

111 
ch
 = ~ch;

112 
	`åutc
(
ch
, 
out
);

114 
	`fşo£
(
š
);

115 
	`fşo£
(
out
);

116  
EXIT_SUCCESS
;

117 
	}
}

	@dup.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<uni¡d.h
>

4 
	~<fú.h
>

6 
	$maš
() {

7 
fd1
, 
fd2
;

8 
buf
[1024];

9 
Ën
;

11 
fd1
 = 
	`İ’
("‹¡.txt", 
O_RDWR
);

12 ià(
fd1
 == -1) {

13 
	`´štf
("Failedo openest.txt!\n");

14 
	`ex™
(1);

17 
fd2
 = 
	`dup
(
fd1
);

18 ià(
fd2
 == -1) {

19 
	`´štf
("Failedo duplicate file descriptor!\n");

20 
	`ex™
(1);

23 
	`´štf
("fd1 = %d, fd2 = %d\n", 
fd1
, 
fd2
);

26 
Ën
 = 
	`wr™e
(
fd1
, "hello", 5);

27 
	`´štf
("wr™tØfd1: %d\n", 
Ën
);

28 
	`fsync
(
fd1
);

29 
	`l£ek
(
fd1
, 0, 
SEEK_SET
);

32 
Ën
 = 
	`»ad
(
fd2
, 
buf
, 1024);

33 
	`´štf
("»ad from fd2: %d\n", 
Ën
);

34 
	`´štf
("»ad cÚ‹Á: %s\n", 
buf
);

36 
	`şo£
(
fd1
);

37 
	`şo£
(
fd2
);

38 
	`ex™
(0);

39 
	}
}

	@dynamic_cast.cpp

	@fork.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<sys/wa™.h
>

4 
	~<uni¡d.h
>

5 
	~<time.h
>

7 
	#PROC_NUM
 10

	)

8 
	#DEFAULT_PID
 -1

	)

10 
	$chd_run
() {

11 
	`¤ªd
(
	`time
(
NULL
));

12 
t
 = 
	`¿nd
() % 30;

13 
	`´štf
("thi chd…id is: %d, sË•imis: %d\n", 
	`g‘pid
(), 
t
);

14 
	`¦“p
(
t
);

16 
	}
}

18 
	$ü—t_´oc
(
pid_t
 *
pid
, 
num
) {

19 if(
pid
 !ğ
NULL
 && 
num
 > 0) {

20 
i
 = 0; i < 
num
; i++) {

21 
pid_t
 
id
 = 
	`fÜk
();

22 ià(
id
 < 0) {

23 
	`´štf
("%s: c»©%d…roøçed\n", 
__FUNCTION__
, 
i
);

25 } if(
id
 == 0) {

26 
chd_»t
 = 
	`chd_run
();

27 
	`ex™
(1);

29 
pid
[
i
] = 
id
;

34 
	}
}

36 
	$wa™_´oc
(
pid_t
 *
pid
, 
num
) {

37 
wa™_»t
 = 0;

38 ià(
pid
 !ğ
NULL
 && 
num
 > 0) {

39 
i
 = 0; i < 
num
; i++) {

40 ià(
pid
[
i
] =ğ
DEFAULT_PID
) {

43 
¡©us
 = 0;

44 
»t
 = 
	`wa™pid
(
pid
[
i
], &
¡©us
, 0);

45 ià(
	`WIFEXITED
(
¡©us
è&& 
»t
 =ğ
pid
[
i
]) {

46 
	`´štf
("wa™ chd…id %d sucûss,„‘uº codis: %d\n", 
pid
[
i
], 
	`WEXITSTATUS
(
¡©us
));

48 
	`´štf
("wa™ chd…id %d faed\n", 
pid
[
i
]);

49 
wa™_»t
 = 1;

53  
wa™_»t
;

54 
	}
}

56 
	$maš
() {

57 
pid_t
 
pid_li¡
[
PROC_NUM
];

58 
i
 = 0; i < 
PROC_NUM
; i++) {

59 
pid_li¡
[
i
] = 
DEFAULT_PID
;

61 ià(
	`ü—t_´oc
(
pid_li¡
, (pid_list) / (pid_list[0])) == 0) {

62 
	`´štf
("%s: c»©®È´oøsucûsss!\n", 
__FUNCTION__
);

64 
	`´štf
("%s:‚Ù‡Î…roøü—‹ sucûss!\n", 
__FUNCTION__
);

67 ià(
	`wa™_´oc
(
pid_li¡
, (pid_list) / (pid_list[0])) == 0) {

68 
	`´štf
("%s: wa™‡Î…roøsucûss!\n", 
__FUNCTION__
);

70 
	`´štf
("%s:‚Ù‡Î…roøwa™ sucûss!\n", 
__FUNCTION__
);

73  
EXIT_SUCCESS
;

74 
	}
}

	@getopt.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<g‘İt.h
>

5 
	$maš
(
¬gc
, * 
¬gv
[]) {

6 
v”bo£
 = 0;

7 
n
 = 0;

8 
İt
;

9 (
İt
 = 
	`g‘İt
(
¬gc
, 
¬gv
, ":vn:c::d:")) != -1) {

10 
İt
) {

12 
	`´štf
("UnknowÀİtiÚ %c\n", 
İtİt
);

15 
	`´štf
("-%øÃed v®ue\n", 
İtİt
);

18 
	`´štf
("O±iÚ %c\n", 
İt
);

19 
v”bo£
 = 1;

22 
	`´štf
("O±iÚ %øw™h v®u%s\n", 
İt
, 
İrg
);

23 
n
 = 
	`©oi
(
İrg
);

24 
	`´štf
("Àğ%d\n", 
n
);

27 
	`´štf
("O±iÚ %øw™h o±iÚ®‡rgum’ˆ%s\n", 
İt
, 
İrg
);

30 
	`´štf
("O±iÚ %øw™h v®u%s\n", 
İt
, 
İrg
);

33 
	`årštf
(
¡d”r
, "Unknown option\n");

34 
	`´štf
("usage: ...\n");

35 
	`ex™
(
EXIT_FAILURE
);

39 
i
 = 
İtšd
; i < 
¬gc
; i++) {

40 
	`´štf
("Argum’t: %s\n", 
¬gv
[
i
]);

42  
EXIT_SUCCESS
;

43 
	}
}

	@getopt_long.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<g‘İt.h
>

5 
	#´št_İt_h–p
(
İt_šdex
, 
h–p_¡r
) \

7 
	`´štf
("\t--%s\t-%c\t%s", 
lÚg_İtiÚs
[
İt_šdex
].
Çme
, (îÚg_İtiÚs[İt_šdex].
v®
, 
h–p_¡r
); \

8 } 0)

	)

9 
	#DEBUG_INFO
(
fÜm©
, ...è
	`´štf
("%s:%d@% "fÜm©"\n", 
__FILE__
, 
__LINE__
, 
__func__
, ##
__VA_ARGS__
)

	)

11 * cÚ¡ 
	gshÜt_İtiÚs
 = ":vn::l:";

13 
	glİt
;

14 
İtiÚ
 
	glÚg_İtiÚs
[] = {

15 {"v”bo£", 
no_¬gum’t
, 
NULL
, 'v'},

16 {"Çme", 
İtiÚ®_¬gum’t
, 
NULL
, 'n'},

17 {"love", 
»quœed_¬gum’t
, 
NULL
, 'l'},

18 {"h‰p-´oxy", 
»quœed_¬gum’t
, &
lİt
, 1},

22 
	$u§ge
() {

23 
	`´štf
("\nUsage:\n");

24 
	`´št_İt_h–p
(0, "verbose\n");

25 
	`´št_İt_h–p
(1, "your‚ame\n");

26 
	`´št_İt_h–p
(2, "love‡ction\n");

27 
	`´štf
("\nExamples:\n");

28 
	`´štf
("\t./getopt_long -nJack\t---\tæ–¹å¼ä¸€\n");

29 
	`´štf
("\t./getopt_long -v --name=Jack -l†ove\t---\tæ–¹å¼äºŒ\n");

30 
	}
}

32 
	$maš
(
¬gc
, * 
¬gv
[]) {

33 
İt
;

34 
İtiÚ_šdex
 = 0;

36 
	`DEBUG_INFO
("no_¬gum’ˆğ%d", 
no_¬gum’t
);

37 
	`DEBUG_INFO
("»quœed_¬gum’ˆğ%d", 
»quœed_¬gum’t
);

38 
	`DEBUG_INFO
("İtiÚ®_¬gum’ˆğ%d", 
İtiÚ®_¬gum’t
);

40 (
İt
 = 
	`g‘İt_lÚg
(
¬gc
, 
¬gv
, 
shÜt_İtiÚs
, 
lÚg_İtiÚs
, &
İtiÚ_šdex
)) != -1) {

41 
İt
) {

43 
	`´štf
("O±iÚ %s", 
lÚg_İtiÚs
[
İtiÚ_šdex
].
Çme
);

44 ià(
İrg
)

45 
	`´štf
(" w™h‡rg %s", 
İrg
);

46 
	`´štf
("\n");

49 
	`´štf
("O±iÚ %c\n", 
İt
);

52 
	`´štf
("O±iÚ %øw™h o±iÚ®‡rgum’ˆ%s\n", 
İt
, 
İrg
);

55 
	`´štf
("O±iÚ %øw™h v®u%s\n", 
İt
, 
İrg
);

58 
	`DEBUG_INFO
("UnkowÀİtiÚ: %øÃed ¨·¿m‘”", 
İtİt
);

59 
	`u§ge
();

62 
	`u§ge
();

63 
	`´štf
("UnknowÀİtiÚ: %d\n", 
İt
);

64 
	`´štf
("İtİˆğ%c\n", ()
İtİt
);

65 
	`´štf
("İ‹¼ = %d\n", 
İ‹¼
);

66 
	`ex™
(
EXIT_FAILURE
);

70 ià(
İtšd
 < 
¬gc
) {

71 
	`´štf
("non-option‡rgvƒlements: ");

72 
İtšd
 < 
¬gc
) {

73 
	`´štf
("% ", 
¬gv
[
İtšd
++]);

75 
	`´štf
("\n");

77 
	}
}

	@pipe.c

1 
	~<fú.h
>

2 
	~<¡dio.h
>

3 
	~<¡dlib.h
>

4 
	~<¡ršg.h
>

5 
	~<sys/wa™.h
>

6 
	~<uni¡d.h
>

7 
	#BUFFER_SIZE
 1024

	)

74 
	$hªdË_cmd
(
cmd
) {

75 ià(
cmd
 < 0 || cmd > 256) {

76 
	`´štf
("child: invalid command\n");

79 
	`´štf
("chd:hcmd from…¬’ˆi %d\n", 
cmd
);

81 
	}
}

83 
	$maš
() {

84 
pe_fd
[2];

85 
pid_t
 
pid
;

86 
r_buf
[4];

87 ** 
w_buf
[256];

88 
chd_ex™
 = 0;

89 
i
;

90 
cmd
;

92 
	`mem£t
(
r_buf
, 0, (r_buf));

94 ià(
	`pe
(
pe_fd
) < 0) {

95 
	`³¼Ü
("pipe createƒrror");

96 
	`ex™
(1);

99 
pid
 = 
	`fÜk
();

101 ià(
pid
 == 0 ) {

102 
	`´štf
("å­è¿›ç¨‹ï¼š%d\n", 
	`g‘pid
());

103 
	`şo£
(
pe_fd
[1]);

104 
	`¦“p
(2);

105 !
chd_ex™
) {

106 
	`»ad
(
pe_fd
[0], 
r_buf
, 4);

107 
cmd
 = 
	`©oi
(
r_buf
);

108 ià(
cmd
 == 0) {

109 
	`´štf
("receive cmd from…arent over‚ow child…rocessƒxit\n");

110 
chd_ex™
 = 1;

111 } ià(
	`hªdË_cmd
(
cmd
) != 0) {

112 
	`´štf
("handle_cmd failed\n");

114 
	`¦“p
(1);

116 
	`şo£
(
pe_fd
[0]);

117 
	`ex™
(0);

118 } ià(
pid
 > 0) {

119 
	`´štf
("çˆ¶è¿›ç¨‹ï¼š%d\n", 
	`g‘pid
());

120 
	`şo£
(
pe_fd
[0]);

121 
w_buf
[0] = "003";

122 
w_buf
[1] = "005";

123 
w_buf
[2] = "777";

124 
w_buf
[3] = "000";

125 
i
 = 0; i < 4; i++) {

126 
	`wr™e
(
pe_fd
[1], 
w_buf
[
i
], 4);

128 
	`şo£
(
pe_fd
[1]);

129 
	`wa™
(
NULL
);

131 
	`ex™
(0);

132 
	}
}

	@pthread.c

1 
	#_GNU_SOURCE


	)

2 
	~<±h»ad.h
>

3 
	~<¡dio.h
>

4 
	~<¡dlib.h
>

5 
	~<¡ršg.h
>

6 
	~<uni¡d.h
>

8 
	#NUM_THREADS
 4

	)

10 
±h»ad_t
 
	gth»ads
[
NUM_THREADS
];

11 
	gids
[
NUM_THREADS
] = {1, 2, 3, 4};

13 
	$´štids
(cÚ¡ *
s
) {

14 
pid_t
 
pid
;

15 
±h»ad_t
 
tid
;

16 
pid
 = 
	`g‘pid
();

17 
tid
 = 
	`±h»ad_£lf
();

18 
	`´štf
 ("% pid %did %lu (0x%lx)\n", 
s
, 
pid
, 
tid
,id);

19 
	}
}

21 * 
	$thr_â
(* 
¬gs
) {

22 
id
 = ()(*((*)
¬gs
));

23 
	`´štf
("Ãwh»ad %d-%d„uÂšg\n", 
	`g‘tid
(), 
id
);

24 ià(
id
 == 1) {

25 
	`±h»ad_ex™
("pthread 1 invoke…thread_exit");

27  
NULL
;

29 
	}
}

31 
	$maš
(
¬gc
, ** 
¬gv
) {

32 
”r
;

33 * 
»tv®
;

34 
	`´štf
("pid %d\n", 
	`g‘pid
());

35 
i
 = 0; i < 
NUM_THREADS
; i++) {

36 
”r
 = 
	`±h»ad_ü—‹
(&
th»ads
[
i
], 
NULL
, 
thr_â
, &
ids
[i]);

37 ià(
”r
 != 0) {

38 
	`´štf
("±h»ad_ü—‹ faed: %s\n", 
	`¡»¼Ü
(
”r
));

39  
EXIT_FAILURE
;

41 
	`´štf
("±h»ad_ü—‹ %lu sucûss\n", 
th»ads
[
i
]);

44 
	`´štids
("mainhread:");

45 
i
 = 0; i < 
NUM_THREADS
; i++) {

46 
rc
 = 
	`±h»ad_još
(
th»ads
[
i
], &
»tv®
);

47 
	`´štf
("th»ad %lu„‘uº v®ueÔ‘v®): %s\n", 
th»ads
[
i
], (*)
»tv®
);

48 
	`´štf
("±h»ad_još %d„‘uº %d\n", 
ids
[
i
], 
rc
);

50  
EXIT_SUCCESS
;

51 
	}
}

	@pthread_kill.c

1 
	#_GNU_SOURCE


	)

2 
	~<”ºo.h
>

3 
	~<±h»ad.h
>

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<sigÇl.h
>

7 
	~<¡ršg.h
>

8 
	~<uni¡d.h
>

10 
	#NUM_THREADS
 3

	)

12 
	$checkResuÉs
(* 
¡ršg
, 
rc
) {

13 ià(
rc
) {

14 
	`´štf
("E¼Ü on: %s,„øğ%d", 
¡ršg
, 
rc
);

15 
	`ex™
(
EXIT_FAILURE
);

18 
	}
}

20 * 
	$th»ad_â
(*
·rm
) {

21 
±h»ad_t
 
£lf
 = 
	`±h»ad_£lf
();

22 
pid_t
 
tid
 = 
	`g‘tid
();

23 
rc
;

24 
	`´štf
("Th»ad 0x%lx %dƒÁ”ed\n", 
£lf
, 
tid
);

25 
”ºo
 = 0;

26 
rc
 = 
	`¦“p
(30);

27 ià(
rc
 !ğ0 && 
”ºo
 =ğ
EINTR
) {

28 
	`´štf
("Th»ad 0x%lx %d gÙ‡ sigÇÈd–iv”edØ™\n", 
£lf
, 
tid
);

29  
NULL
;

31 
	`´štf
("Th»ad 0x%lx %d did‚Ù g‘ƒx³ùed„esuÉs!„c=%d,ƒ¼no=%d\n", 
£lf
, 
tid
, 
rc
, 
”ºo
);

32  
NULL
;

33 
	}
}

35 
	$sigÇl_hªdËr
(
signum
)

37 
±h»ad_t
 
£lf
 = 
	`±h»ad_£lf
();

38 
pid_t
 
tid
 = 
	`g‘tid
();

39 
	`´štf
("Th»ad 0x%lx %d c©ch %d iÀsigÇÈhªdËr\n", 
£lf
, 
tid
, 
signum
);

41 
	}
}

43 
	$maš
(
¬gc
, ** 
¬gv
) {

44 
rc
;

45 
i
;

46 
sigaùiÚ
 
aù
;

47 
±h»ad_t
 
th»ads
[
NUM_THREADS
];

49 
	`´štf
("EÁ” Te¡ÿ£ - %s\n", 
¬gv
[0]);

50 
	`´štf
("Set uphe‡larm handler forhe…rocess\n");

52 
	`mem£t
(&
aù
, 0, (act));

53 
	`sigem±y£t
(&
aù
.
§_mask
);

54 
aù
.
§_æags
 = 0;

55 
aù
.
§_hªdËr
 = 
sigÇl_hªdËr
;

57 
rc
 = 
	`sigaùiÚ
(
SIGALRM
, &
aù
, 
NULL
);

58 
	`checkResuÉs
("sigaùiÚ\n", 
rc
);

60 
i
 = 0; i < 
NUM_THREADS
; ++i) {

61 
rc
 = 
	`±h»ad_ü—‹
(&
th»ads
[
i
], 
NULL
, 
th»ad_â
, NULL);

62 
	`checkResuÉs
("±h»ad_ü—‹()", 
rc
);

65 
	`¦“p
(3);

67 
i
 = 0; i < 
NUM_THREADS
; ++i) {

68 
rc
 = 
	`±h»ad_kl
(
th»ads
[
i
], 
SIGALRM
);

69 
	`checkResuÉs
("±h»ad_kl()", 
rc
);

72 
i
 = 0; i < 
NUM_THREADS
; ++i) {

73 
rc
 = 
	`±h»ad_još
(
th»ads
[
i
], 
NULL
);

74 
	`checkResuÉs
("±h»ad_još()", 
rc
);

77 
	`´štf
("Main completed\n");

78  
EXIT_SUCCESS
;

79 
	}
}

	@reinterpret_cast.cpp

1 
	~<io¡»am
>

2 
usšg
 
Çme¥aû
 
	g¡d
;

4 
	$maš
(
¬gc
, **
¬gv
)

6 
num
 = 0x00636261;

7 *
²um
 = &
num
;

8 *
p¡r
 = 
»š‹½»t_ÿ¡
<*>(
²um
);

9 
cout
 << "²umæŒ‡é’ˆçš„å€¼: " << 
²um
 << 
’dl
;

10 
cout
 << "p¡ræŒ‡é’ˆçš„å€¼: " << 
¡©ic_ÿ¡
<*>(
p¡r
è<< 
’dl
;

11 
cout
 << "²umæŒ‡å‘çš„å†…å®¹: " << 
hex
 << *
²um
 << 
’dl
;

12 
cout
 << "p¡ræŒ‡å‘çš„å†…å®¹: " << 
p¡r
 << 
’dl
;

14 
	}
}

	@sigaction.c

1 
	~<±h»ad.h
>

2 
	~<¡dboŞ.h
>

3 
	~<¡dio.h
>

4 
	~<¡dlib.h
>

5 
	~<sigÇl.h
>

6 
	~<uni¡d.h
>

8 
	$sigÇl_aùiÚ
(
signum
, 
sigšfo_t
* 
sigšfo
, * 
myaù
) {

9 
	`´štf
("sigÇl_aùiÚ c©ch sigÇÈ%d\n", 
signum
);

10 
	`´štf
("sigšfØsigno: %d\n", 
sigšfo
->
si_signo
);

11 
	`´štf
("sigšfØ”ºo: %d\n", 
sigšfo
->
si_”ºo
);

12 
	`´štf
("sigšfØcode: %d\n", 
sigšfo
->
si_code
);

13 
i
=0;

14 
i
 < 5) {

15 
	`´štf
("tid %ld\n", 
	`±h»ad_£lf
());

16 
	`¦“p
(1);

17 
i
++;

19 
	}
}

21 
	$sigÇl_hªdËr
(
signum
) {

22 
	`´štf
("sigÇl_hªdË¸ÿtch sigÇÈ%d\n", 
signum
);

23 
	}
}

25 
	$maš
() {

27 
sigaùiÚ
 
aù
;

28 
	`sigem±y£t
(&
aù
.
§_mask
);

29 
aù
.
§_æags
 = 
SA_SIGINFO
;

30 
aù
.
§_sigaùiÚ
 = 
sigÇl_aùiÚ
;

39 ià(
	`sigaùiÚ
(
SIGINT
, &
aù
, 
NULL
) < 0) {

40 
	`³¼Ü
("sigaction");

41  
EXIT_FAILURE
;

47 
Œue
) {

48 
	`´štf
("waiting for signal...\n");

49 
	`¦“p
(5);

51  
EXIT_SUCCESS
;

52 
	}
}

	@signal.c

1 
	#_GNU_SOURCE


	)

2 
	~<”ºo.h
>

3 
	~<execšfo.h
>

4 
	~<±h»ad.h
>

5 
	~<¡dio.h
>

6 
	~<¡dlib.h
>

7 
	~<¡ršg.h
>

8 
	~<uni¡d.h
>

9 
	~<¡dboŞ.h
>

10 
	~<sigÇl.h
>

12 
	#MAX_STACK_FRAMES
 128

	)

13 
sig£t_t
 
	g£t
;

14 vŞ©
boŞ
 
	gæag_ex™
 = 
çl£
;

16 
	$hªdË_sigÇl
(
signum
) {

17 cÚ¡ * 
Çme
;

18 * 
add¾i¡
[
MAX_STACK_FRAMES
];

19 ** 
symbŞli¡
;

20 
add¾’
;

21 
signum
) {

22 
SIGUSR1
: 
Çme
 = "SIGUSR1"; ;

23 
SIGUSR2
: 
Çme
 = "SIGUSR2"; ;

24 
SIGSEGV
: 
Çme
 = "SIGSEGV"; ;

25 
SIGABRT
: 
Çme
 = "SIGABRT"; ;

26 
SIGFPE
: 
Çme
 = "SIGFPE"; ;

27 
SIGILL
: 
Çme
 = "SIGILL"; ;

28 
SIGINT
: 
Çme
 = "SIGINT"; ;

29 
SIGTSTP
: 
Çme
 = "SIGTSTP"; ;

30 
SIGTERM
: 
Çme
 = "SIGTERM"; ;

31 : 
Çme
 = "UNKNOWN";

33 
	`´štf
("Caughˆ% sigÇl,…rštšg sck:\n", 
Çme
);

36 
add¾’
 = 
	`backŒaû
(
add¾i¡
, 
MAX_STACK_FRAMES
);

37 ià(
add¾’
 == 0) {

38 
	`´štf
("\n");

42 
symbŞli¡
 = (**)
	`backŒaû_symbŞs
(
add¾i¡
, 
add¾’
);

44 
i
 = 0; i < 
add¾’
; i++) {

45 
	`´štf
("%d %s\n", 
i
, 
symbŞli¡
[i]);

47 
	`ä“
(
symbŞli¡
);

49 
	`sigÇl
(
signum
, 
SIG_DFL
);

50 
	`¿i£
(
signum
);

51 
	}
}

53 
	$sigÇl_hªdËr
() {

54 
	`sigÇl
(
SIGUSR1
, 
hªdË_sigÇl
);

55 
	`sigÇl
(
SIGUSR2
, 
hªdË_sigÇl
);

56 
	`sigÇl
(
SIGSEGV
, 
hªdË_sigÇl
);

57 
	`sigÇl
(
SIGABRT
, 
hªdË_sigÇl
);

58 
	`sigÇl
(
SIGFPE
, 
hªdË_sigÇl
);

59 
	`sigÇl
(
SIGILL
, 
hªdË_sigÇl
);

60 
	`sigÇl
(
SIGINT
, 
hªdË_sigÇl
);

61 
	`sigÇl
(
SIGTSTP
, 
hªdË_sigÇl
);

62 
	`sigÇl
(
SIGTERM
, 
hªdË_sigÇl
);

63 
	}
}

65 *
	$tim”_â
(* 
¬g
) {

66 
i
 = 0;

67 
	`´štf
("tim”id %d„uÂšg\n", 
	`g‘tid
());

69 
	`¦“p
(1);

70 
i
++;

71 
	`´štf
("¦“°%ld s\n", 
i
);

72 ià(
æag_ex™
) {

74 
	`´štf
("timer_fnƒxit\n");

77 } 
Œue
);

78  
NULL
;

79 
	}
}

81 *
	$sigÇl_â
(* 
¬g
) {

82 
signum
;

83 
	`´štf
("sigÇÈtid %d„uÂšg\n", 
	`g‘tid
());

84 
Œue
) {

85 
	`sigwa™
(&
£t
, &
signum
);

86 ià(
SIGUSR1
 =ğ
signum
) {

87 
	`´štf
("catch SIGUSR1\n");

88 
æag_ex™
 = 
Œue
;

90 ià(
SIGUSR2
 =ğ
signum
) {

91 
	`´štf
("catch SIGUSR2, sleep 2s‡ndƒxit\n");

92 
	`¦“p
(2);

96 
	`´štf
("signal_fnƒxit\n");

97  
NULL
;

98 
	}
}

100 
	$maš
(
¬gc
, ** 
¬gv
) {

101 
c
;

102 
rc
;

103 
±h»ad_t
 
‰id
;

104 
±h»ad_t
 
¡id
;

105 * 
¡©us
;

106 
	`´štf
("pid %d\n", 
	`g‘pid
());

107 
	`sigem±y£t
(&
£t
);

108 
	`sigadd£t
(&
£t
, 
SIGUSR1
);

109 
	`sigadd£t
(&
£t
, 
SIGUSR2
);

110 
	`sig´ocmask
(
SIG_SETMASK
, &
£t
, 
NULL
);

111 
	`sigÇl_hªdËr
();

113 
rc
 = 
	`±h»ad_ü—‹
(&
‰id
, 
NULL
, 
tim”_â
, NULL);

114 ià(
rc
 != 0) {

115 
	`´štf
("±h»ad_ü—‹ faed: %s\n", 
	`¡»¼Ü
(
rc
));

116  
EXIT_FAILURE
;

118 
	`±h»ad_d‘ach
(
‰id
);

119 
rc
 = 
	`±h»ad_još
(
‰id
, 
NULL
);

120 ià(
rc
 != 0) {

121 
	`´štf
("±h»ad_joštid faed: %s\n", 
	`¡»¼Ü
(
rc
));

123 
rc
 = 
	`±h»ad_ü—‹
(&
¡id
, 
NULL
, 
sigÇl_â
, NULL);

124 ià(
rc
 != 0) {

125 
	`´štf
("±h»ad_ü—‹ faed: %s\n", 
	`¡»¼Ü
(
rc
));

126  
EXIT_FAILURE
;

129 
Œue
) {

130 
	`sÿnf
("%c", &
c
);

131 ià('a' =ğ
c
) {

132 
	`±h»ad_kl
(
¡id
, 
SIGUSR1
);

133 } ià('q' =ğ
c
) {

134 
	`±h»ad_kl
(
¡id
, 
SIGUSR2
);

135 
	`±h»ad_još
(
¡id
, &
¡©us
);

136 
	`´štf
("finish\n");

140 
rc
 = 
	`±h»ad_još
(
¡id
, 
NULL
);

141 ià(
rc
 != 0) {

142 
	`´štf
("±h»ad_još stid faed: %s\n", 
	`¡»¼Ü
(
rc
));

144  
EXIT_SUCCESS
;

145 
	}
}

	@sigprocmask.c

1 
	~<sigÇl.h
>

2 
	~<¡dio.h
>

3 
	~<¡dlib.h
>

4 
	~<uni¡d.h
>

6 
	$hªdËr
(
sig
) {

7 
	`´štf
("Deal with SIGINT\n");

8 
	}
}

10 
	$maš
() {

11 
i
 = 0;

12 
sig£t_t
 
Ãwmask
;

13 
sig£t_t
 
Şdmask
;

14 
sig£t_t
 
³ndmask
;

15 
sigaùiÚ
 
aù
;

16 
aù
.
§_hªdËr
 = 
hªdËr
;

17 
	`sigem±y£t
(&
aù
.
§_mask
);

18 
aù
.
§_æags
 = 0;

19 
	`sigaùiÚ
(
SIGINT
, &
aù
, 0);

20 
	`sigem±y£t
(&
Ãwmask
);

21 
	`sigadd£t
(&
Ãwmask
, 
SIGINT
);

22 
	`sig´ocmask
(
SIG_BLOCK
, &
Ãwmask
, &
Şdmask
);

25 
i
 < 5) {

26 
	`¦“p
(1);

27 
i
++;

28 
	`´štf
("¦“°%d s\n", 
i
);

30 
	`sig³ndšg
(&
³ndmask
);

31 ià(
	`sigismemb”
(&
³ndmask
, 
SIGINT
)) {

32 
	`´štf
("SIGINT…ending\n");

35 
	`´štf
("SIGINT unblocked\n");

36 
	`sig´ocmask
(
SIG_SETMASK
, &
Şdmask
, 
NULL
);

37 
i
 = 0;

40 
i
 < 5) {

41 
	`¦“p
(1);

42 
i
++;

43 
	`´štf
("¦“°%d s\n", 
i
);

45  
EXIT_SUCCESS
;

46 
	}
}

	@static_case.cpp

	@string_char.cpp

1 
	~<c¡ršg
>

2 
	~<io¡»am
>

3 
	~<veùÜ
>

4 
usšg
 
Çme¥aû
 
	g¡d
;

6 
	$maš
(
¬gc
, **
¬gv
)

8 
¡ršg
 
¡r
 = "Hello World!";

9 
	`´štf
("%s\n", 
¡r
.
	`c_¡r
());

10 
cout
 << 
¡r
 << 
’dl
;

12 * 
p1
 = 
¡r
.
	`d©a
();

14 
cout
 << 
p1
 << 
’dl
;

18 * 
p2
 = 
cÚ¡_ÿ¡
<*>(
¡r
.
	`c_¡r
());

19 
cout
 << 
p2
 << 
’dl
;

21 * 
p3
;

22 
Ën
 = 
¡r
.
	`Ëngth
();

23 
p3
 = (*)
	`m®loc
((
Ën
+1) * ());

24 
¡r
.
	`cİy
(
p3
, 
Ën
, 0);

25 *(
p3
 + 
Ën
) = '\0';

26 
cout
 << 
p3
 << 
’dl
;

28 
veùÜ
<> 
	`v1
(
¡r
.
	`begš
(), sŒ.
	`’d
());

29 
v1
.
	`push_back
('\0');

30 * 
p4
 = &
v1
[0];

31 
cout
 << 
p4
 << 
’dl
;

33 * 
p5
 = &*
¡r
.
	`begš
();

34 
cout
 << 
p5
 << 
’dl
;

37 cÚ¡ * 
s
 = "Hello World!";

38 
¡ršg
 
¡r1
 = 
s
;

39 
cout
 << 
¡r1
 << 
’dl
;

42 
a
[] = "Hello World!";

43 
¡ršg
 
¡r2
 = 
a
;

44 
cout
 << 
¡r2
 << 
’dl
;

47 
a1
[10];

48 cÚ¡ * 
c¡r
 = 
¡r
.
	`c_¡r
();

49 
	`¡rıy
(
a1
, 
c¡r
);

50 
cout
 << 
a1
 << 
’dl
;

53 
a2
[10];

54 
i
;

55 
i
 = 0; i < 
¡r
.
	`Ëngth
(); i++) {

56 
a2
[
i
] = 
¡r
[i];

58 
a2
[
i
] = '\0';

59 
cout
 << 
a2
 << 
’dl
;

62 
	}
}

	@virtual_function.cpp

1 
	~"PeİË.h
"

2 
	~"T—ch”.h
"

4 
	$maš
() {

7 
PeİË
 *
p
 = 
Ãw
 
	`PeİË
((*)"ç‹å¿—åˆš", 23);

8 
p
->
	`di¥Ïy
();

9 
p
 = 
Ãw
 
	`T—ch”
((*)"èµµå®ä½³", 45, 8200);

10 
p
->
	`di¥Ïy
();

13 
PeİË
 
	`p1
((*)"ç‹å¿—åˆš", 23);

14 
T—ch”
 
	`t1
((*)"èµµå®ä½³", 45, 8200);

16 
PeİË
 &
½
 = 
p1
;

17 
PeİË
 &
¹
 = 
t1
;

19 
½
.
	`di¥Ïy
();

20 
¹
.
	`di¥Ïy
();

22 
	}
}

	@wait.c

1 
	~<¡dio.h
>

2 
	~<uni¡d.h
>

3 
	~<¡dlib.h
>

4 
	~<sys/wa™.h
>

6 
	$maš
() {

7 
pid_t
 
pid
;

8 
pid
 = 
	`fÜk
();

9 ià(
pid
 < 0) {

10 
	`´štf
("% fÜkƒ¼Ü\n", 
__FUNCTION__
);

11  
EXIT_FAILURE
;

12 } ià(
pid
 == 0) {

13 
	`´štf
("chd„un,…id is: %d\n", 
	`g‘pid
());

14 
	`¦“p
(5);

15 
	`ex™
(257);

17 
¡©us
 = 0;

18 
pid_t
 
»t
 = 0;

22 
»t
 = 
	`wa™
(&
¡©us
);

23 
	`´štf
("this isest for wait\n");

36 ià(
	`WIFEXITED
(
¡©us
è&& 
»t
 =ğ
pid
) {

37 
	`´štf
("wa™ chd sucûss, chd„‘uº codis: %d-%d\n", 
¡©us
, 
	`WEXITSTATUS
(status));

39 
	`´štf
("wait child failed,„eturn.\n");

40  
EXIT_FAILURE
;

43  
EXIT_SUCCESS
;

44 
	}
}

	@waitpid.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<sys/wa™.h
>

4 
	~<uni¡d.h
>

5 
	~<sigÇl.h
>

7 
	$maš
() {

8 
pid_t
 
pid
;

9 
pid_t
 
ıid
;

10 
¡©us
;

11 
	`´štf
("pid %d\n", 
	`g‘pid
());

12 
pid
 = 
	`fÜk
();

14 ià(
pid
 < 0) {

15 
	`³¼Ü
("fork()");

16 
	`ex™
(
EXIT_FAILURE
);

17 } ià(
pid
 == 0) {

18 
	`puts
("in child…rocess");

19 
	`´štf
("\tchd…id %d\n", 
	`g‘pid
());

20 
	`´štf
("\tchd…pid %d\n", 
	`g‘µid
());

21 
	`¦“p
(3);

22 
	`ex™
(
EXIT_SUCCESS
);

25 
ıid
 = 
	`wa™pid
(
pid
, &
¡©us
, 0);

26 
	`´štf
("wa™pid„‘uº %d\n", 
ıid
);

27 
	`puts
("in…arent");

28 
	`´štf
("\¬’ˆpid %d\n", 
	`g‘pid
());

29 
	`´štf
("\¬’ˆµid %d\n", 
	`g‘µid
());

30 
	`´štf
("\tchd…roûs ex™ed w™h stu %d\n", 
¡©us
);

50 
	`ex™
(
EXIT_SUCCESS
);

51 
	}
}

	@
1
.
0
27
327
People.cpp
People.h
Teacher.cpp
Teacher.h
abstract_class.cpp
atexit.c
const_cast.cpp
cpu.cpp
cpustat.cpp
crypto.cpp
dup.c
dynamic_cast.cpp
fork.c
getopt.c
getopt_long.c
pipe.c
pthread.c
pthread_kill.c
reinterpret_cast.cpp
sigaction.c
signal.c
sigprocmask.c
static_case.cpp
string_char.cpp
virtual_function.cpp
wait.c
waitpid.c
